        <div data-testapiversion="1.17.0" data-bind="attr: {id: 'dateTimePicker_' + randomId}" style="display: table">
            <span class="oj-select-choice"  style="width: auto; display: inline-block;" data-bind="attr: {id: 'dropDown_'+randomId}, click: panelControl, event: {keypress: function(data, event) {if(isEnterPressed(data, event)) {panelControl();}}}" aria-label="Pick datetime">
                <img class="info-badge" src="/emsaasui/uifwk/@version@/images/imgbackground.png" style="position:absolute; height:16px;width:16px;vertical-align:top;margin:8px;background: url('/emsaasui/uifwk/@version@/images/uifwkSprite.png') no-repeat 0px -46px;" data-bind="style: {display: badgeTimePeriod()?'inline':'none'},event: {mouseover: badgeMouseOverHandler, mouseout: badgeMouseOutHandler}"/>
                <div data-bind="ojComponent:{component: 'ojPopup',tail: 'simple'}" class="badge-popup-message" style="display: block;padding:0; max-width: 340px;">
                    <img src="/emsaasui/uifwk/@version@/images/imgbackground.png" style="height:16px;width:16px;vertical-align:top;background: url('/emsaasui/uifwk/@version@/images/uifwkSprite.png') no-repeat 0px -46px;"/>
                    <div style="margin: 0 0 0 7px; padding: 0; display: inline-block;">
                        <span data-bind="text: badgeMsgTitle" class="badge-message-summary"></span><br>
                        <span class="badge-message-detail" data-bind="text: badgeStartTime()+' - '+badgeEndTime()"></span>
                    </div>
                </div>
                <span class="oj-select-chosen" style="font-size: 10px; color: #666666;line-height: 28px; padding-right: 24px;" 
                      data-bind="style: {'padding-left': badgeTimePeriod()?'36px':'2px', 'max-width': badgeTimePeriod()?'285px':'240px'},html: dateTimeInfo,
                                 event: {mouseover: labelMouseOverHandler, mouseout: labelMouseOutHandler}"></span>
                <!-- ko if: tfInfoIndicatorVisible() === true -->
                <span class="time-filter-indicator fa-icon-font" 
                  data-bind="event: {mouseover: showTimeFilterInfo, mouseout: hideTimeFilterInfo, 
                              keypress: function(data, event) {event.stopPropagation(); if(isEnterPressed(data, event)) {toggleTimeFilterInfo();}}},
                              click: toggleTimeFilterInfo, clickBubble: false,
                              attr: {id: 'tfInfoIndicator_'+randomId, 'aria-label': tfIndicatorLabel}"></span>
                <!-- /ko -->
                <a class="oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon"></a>
            </span>
           
            <!--**********popup for time filter info start**********-->
            <!-- ko if: showTimeFilterInfoPopUp() === true -->
            <div style="display: none;" data-bind="ojComponent: {component: 'ojPopup'}, attr: {id: 'tfInfo_'+randomId}">
                <span data-bind="html: timeFilterInfo"></span>
            </div>
            <!-- /ko -->
            <!--**********popup for time filter info end**********-->
            
            <!--**********popup for overflowed label start**********-->
            <!--ko if: showOverFlowedLabelPopUp() === true -->
            <div style="display: none;" 
                 data-bind="ojComponent: {component: 'ojPopup', chrome: 'none'}, attr: {id: 'overflowedLabelInfo_'+randomId}">
                <span class="overflowedLabel" data-bind="text: overflowedLabelInfo"></span>                
            </div>
            <!-- /ko -->
            <!--**********popup for overflowed label end**********-->

            <!-- ko if: showPanel() === true -->
            <div class="panel" style="display:inline-block; padding: 0px; margin: 0px;" data-bind="ojComponent: {component: 'ojPopup', chrome: 'none', beforeClose: setLastDatas}, click: function(data, event) {event.stopPropagation();return true;}, attr: {id: 'panel_'+randomId}">
                <!-- left of panel -->
                <div class="drawers" data-bind="style: {height: leftDrawerHeight}">
                <div data-bind="attr: {id: 'drawers_'+randomId}, click: chooseTimePeriod, event: {mouseover: hoverOnDrawer, mouseout: hoverOutDrawer}">
                    <a href="#" data-tp-id="LAST_15_MINUTE" class="drawer" data-bind="attr: {id: 'drawer0_'+randomId}, text: timePeriodLast15mins"></a>
                    <a href="#" data-tp-id="LAST_30_MINUTE" class="drawer" data-bind="attr: {id: 'drawer1_'+randomId}, text: timePeriodLast30mins"></a>
                    <a href="#" data-tp-id="LAST_60_MINUTE" class="drawer" data-bind="attr: {id: 'drawer2_'+randomId}, text: timePeriodLast60mins"></a>
                    <a href="#" data-tp-id="LAST_2_HOUR" class="drawer" data-bind="attr: {id: 'drawer15_'+randomId}, text: timePeriodLast2hours"></a>
                    <a href="#" data-tp-id="LAST_4_HOUR" class="drawer" data-bind="attr: {id: 'drawer3_'+randomId}, text: timePeriodLast4hours"></a>
                    <a href="#" data-tp-id="LAST_6_HOUR" class="drawer" data-bind="attr: {id: 'drawer4_'+randomId}, text: timePeriodLast6hours"></a>
                    <a href="#" data-tp-id="LAST_8_HOUR" class="drawer" data-bind="attr: {id: 'drawer16_'+randomId}, text: timePeriodLast8hours"></a>
                    <a href="#" data-tp-id="LAST_24_HOUR" class="drawer" data-bind="attr: {id: 'drawer17_'+randomId}, text: timePeriodLast24hours"></a>
                    <a href="#" data-tp-id="LAST_1_DAY" class="drawer" data-bind="attr: {id: 'drawer5_'+randomId}, text: timePeriodLast1day"></a>
                    <a href="#" data-tp-id="LAST_7_DAY" class="drawer" data-bind="attr: {id: 'drawer6_'+randomId}, text: timePeriodLast7days"></a>
                    <a href="#" data-tp-id="LAST_14_DAY" class="drawer" data-bind="attr: {id: 'drawer13_'+randomId}, text: timePeriodLast14days"></a>
                    <a href="#" data-tp-id="LAST_30_DAY" class="drawer" data-bind="attr: {id: 'drawer7_'+randomId}, text: timePeriodLast30days"></a>
                    <a href="#" data-tp-id="LAST_90_DAY" class="drawer" data-bind="attr: {id: 'drawer8_'+randomId}, text: timePeriodLast90days"></a>
                    <a href="#" data-tp-id="LAST_12_MONTH" class="drawer" data-bind="attr: {id: 'drawer18_'+randomId}, text: timePeriodLast12months"></a>
                    <a href="#" data-tp-id="LAST_1_YEAR" class="drawer" data-bind="attr: {id: 'drawer12_'+randomId}, text: timePeriodLast1year"></a>
                    <a href="#" data-tp-id="LATEST" class="drawer" data-bind="attr: {id: 'drawer10_'+randomId}, text: timePeriodLatest"></a>
                    <hr style="margin: 0px;">
                    <a href="#" data-tp-id="RECENT" class="drawer" data-bind="attr: {id: 'drawer14_'+randomId}, text: timePeriodRecent"></a>
                    <a href="#" data-tp-id="CUSTOM" class="drawer" data-bind="attr: {id: 'drawer9_'+randomId}, text: timePeriodCustom"></a>
                </div>
                </div>
                
                <!-- popup for recently used time ranges -->
                <div style="background-color: #fcfdfe; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px;" data-bind="ojComponent: {component: 'ojPopup'}, attr: {id: 'recentPanel_'+randomId}">
                    <div data-bind="foreach: recentList()">
                        <div class="recent-list" style="padding: 5px;" data-bind="html: $parent.getRecentDateTimeInfo($data), event: {mouseover: $parent.hoverOnDrawer, mouseout: $parent.hoverOutDrawer}, click: $parent.chooseByRecent"></div>
                    </div>
                </div>

                <!-- right of panel-->
                <!--<div class="pickerPanel" data-bind="visible: showRightPanel, attr: {id: 'pickerPanel_'+randomId}">-->
                <div class="pickerPanel" data-bind="ojComponent: {component: 'ojPopup', chrome: 'none'}, attr: {id: 'pickerPanel_'+randomId}, click: function(data, event) {event.stopPropagation();return true;}">
                    <div style="height: 21px; margin: 0 auto;">
                        <span style="display: inline-block; padding: 5px 5px 0px;" tabindex="0" data-bind="click: timeFilterControl, event: {keypress: function(data, event) {if(isEnterPressed(data, event)) {timeFilterControl();}}}, visible: enableTimeFilter, css: timeFilterIconCss, attr: {'aria-label': timeFilterAlt}">
                            <!--func_gear_16_ena-->
                            <img data-bind="attr: {id: 'timeFilterIcon_'+randomId, alt: timeFilterAlt, title: timeFilterIconTitle}" src="/emsaasui/uifwk/@version@/images/imgbackground.png" style="background: url('/emsaasui/uifwk/@version@/images/uifwkSprite.png') no-repeat 0px -126px;height:16px;width:16px;"/>
                        </span>
                    </div>

                    <div class="lrControlRadios">
                        <span class="relRadios">
                            <input type="radio" name="lrCtrl" value="flexRelTimeCtrl" data-bind="checked: lrCtrlVal">
                            <label data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_LAST"></label>
                        </span>
                        <input data-bind="ojComponent: {component: 'ojInputNumber', value: flexRelTimeVal, min: 1, max: 999,
                                validators: [numberValidator],
                                rootAttributes: {id: 'lastNumber_' + randomId,
                                    style: 'min-width: 54px; max-width:88px;padding-left: 10px; padding-right: 10px; display: inline-block; vertical-align: top;'},
                                displayOptions: {'validatorHint': 'none'},
                                optionChange: flexRelTimeValChanged, disabled: lrCtrlVal()!=='flexRelTimeCtrl'
                                },
                                attr: {id: 'flexRelTimeVal_' + randomId}"/>
                        <select data-bind="ojComponent: {component: 'ojSelect', value: flexRelTimeOpt,
                            rootAttributes: {style: 'max-width: 98px; min-width:7em; display: inline-block; vertical-align: top;', id: 'flexRelTimeOpt_' + randomId}, 
                            optionChange: flexRelTimeOptChanged, disabled: lrCtrlVal()!=='flexRelTimeCtrl'}">
                            <!-- ko if: (shouldShowTimeLevel("second") && hideTimeSelection() !== true && showTimeAtMillisecond() === true) -->
                                <!-- ko if: flexRelTimeVal() === 1 -->
                                    <option value="SECOND" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_SECOND"></option>
                                <!-- /ko -->
                                <!-- ko if: flexRelTimeVal() > 1 -->
                                    <option value="SECOND" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_SECONDS"></option>
                                <!-- /ko -->
                            <!-- /ko -->
                            <!-- ko if: (shouldShowTimeLevel("minute") && hideTimeSelection() !== true) -->
                                <!-- ko if: flexRelTimeVal() === 1 -->
                                    <option value="MINUTE" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_MINUTE"></option>
                                <!-- /ko -->
                                <!-- ko if: flexRelTimeVal() > 1 -->
                                    <option value="MINUTE" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_MINUTES"></option>
                                <!-- /ko -->
                            <!-- /ko -->
                            <!-- ko if: (shouldShowTimeLevel("hour") && hideTimeSelection() !== true) -->
                                <!-- ko if: flexRelTimeVal() === 1 -->
                                    <option value="HOUR" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_HOUR"></option>
                                <!-- /ko -->
                                <!-- ko if: flexRelTimeVal() > 1 -->
                                    <option value="HOUR" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_HOURS"></option>
                                <!-- /ko -->
                            <!-- /ko -->
                            <!-- ko if: shouldShowTimeLevel("day") -->
                                <!-- ko if: flexRelTimeVal() === 1 -->
                                    <option value="DAY" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_DAY"></option>
                                <!-- /ko -->
                                <!-- ko if: flexRelTimeVal() > 1 -->
                                    <option value="DAY" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_DAYS"></option>
                                <!-- /ko -->
                            <!-- /ko -->
                            <!-- ko if: shouldShowTimeLevel("week") -->
                                <!-- ko if: flexRelTimeVal() === 1 -->
                                    <option value="WEEK" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_WEEK"></option>
                                <!-- /ko -->
                                <!-- ko if: flexRelTimeVal() > 1 -->
                                    <option value="WEEK" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_WEEKS"></option>
                                <!-- /ko -->
                            <!-- /ko -->
                            <!-- ko if: shouldShowTimeLevel("month") -->
                                <!-- ko if: flexRelTimeVal() === 1 -->
                                    <option value="MONTH" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_MONTH"></option>
                                <!-- /ko -->
                                <!-- ko if: flexRelTimeVal() > 1 -->
                                    <option value="MONTH" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_MONTHS"></option>
                                <!-- /ko -->
                            <!-- /ko -->
                            <!-- ko if: shouldShowTimeLevel("year") -->
                                <!-- ko if: flexRelTimeVal() === 1 -->
                                    <option value="YEAR" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_YEAR"></option>
                                <!-- /ko -->
                                <!-- ko if: flexRelTimeVal() > 1 -->
                                    <option value="YEAR" data-bind="text: nls.DATETIME_PICKER_FLEX_REL_TIME_OPTION_YEARS"></option>
                                <!-- /ko -->
                            <!-- /ko -->
                        </select>
                        <!-- ko if: showLatestOnCustomPanel() == true -->
                        <span style="margin-left:4px" class="relRadios">
                            <input type="radio" name="newLatest" value="latestOnCustom" data-bind="checked: lrCtrlVal, disable: !enableLatestOnCustomPanel()">
                            <label data-bind="text:timePeriodLatest, style: {color: enableLatestOnCustomPanel()?'':'grey'}"></label>
                        </span>
                        <div class="time-filter-latest-question fa-icon-font fa-icon-font-14 relRadios" data-bind="css: {'latest-enabled': enableLatestOnCustomPanel()}">
                            <span class="time-filter-latest-tooltip" data-bind="text: nls.DATETIME_PICKER_RADIO_LATEST_HELP, css: {'latest-enabled': enableLatestOnCustomPanel()}"></span>
                        </div>                                                    
                        <!-- /ko -->
                        
                        <hr>
                        
                        <span style="margin-top: 0px;" class="relRadios">
                            <span>
                                <input type="radio" name="lrCtrl" value="timeLevelCtrl" data-bind="checked: lrCtrlVal">
                                <label data-bind="text: nls.DATETIME_PICKER_RADIO_RANGE"></label>
                            </span>
                        </span>
                        <div>
                            <input data-bind="ojComponent: {component: 'ojInputDate', value: startDateISO, disabled: lrCtrlVal() !== 'timeLevelCtrl',
                                                    datePicker: {daysOutsideMonth: 'hidden'},
                                                    converter: inputDateConverter,
                                                    required: true,
                                                    min: startDateMin, max: endDateISO(),
                                                    optionChange: startDateChanged,
                                                    displayOptions: {'validatorHint': 'none'},
                                                    rootAttributes: {style: 'width: 70px;', class: 'relRadios', id: 'startDate_'+randomId}
                                                },
                                    attr: {id: 'inputStartDate_'+randomId, 'aira-label': startDateLabel}"/>
                            <!-- ko if: !hideTimeSelection() -->
                            <input data-bind="ojComponent: {component: 'ojInputTime', value: startTime, converter: getTimeConverter(), timePicker: {timeIncrement: timeIncrement()},
                                                    disabled: lrCtrlVal() !== 'timeLevelCtrl',
                                                    required: true,
                                                    optionChange: startTimeChanged,
                                                    rootAttributes: {style: 'width: 150px;', class: 'relRadios', id: 'startTime_'+randomId}
                                                },
                                    attr: {id: 'inputStartTime_'+randomId, 'aira-label': startTimeLabel}"/>
                            <!-- /ko -->
                            <span class="relRadios" style="font-weight: bold; padding-top: 8px;">-</span>
                            <input data-bind="ojComponent: {component: 'ojInputDate', value: endDateISO, disabled: lrCtrlVal() !== 'timeLevelCtrl',
                                                    datePicker: {daysOutsideMonth: 'hidden'},
                                                    converter: inputDateConverter,
                                                    required: true,
                                                    min: endDateMin, max: endDateMax,
                                                    optionChange: endDateChanged,
                                                    displayOptions: {'validatorHint': 'none'},
                                                    rootAttributes: {style: 'width: 70px;', class: 'relRadios', id: 'endDate_'+randomId}
                                                },
                                    attr: {id: 'inputEndDate_'+randomId, 'aira-label': endDateLabel}"/>
                            <!-- ko if: !hideTimeSelection() -->
                            <input data-bind="ojComponent: {component: 'ojInputTime', value: endTime, converter: getTimeConverter(), timePicker: {timeIncrement: timeIncrement()},
                                                    disabled: lrCtrlVal() !== 'timeLevelCtrl',
                                                    required: true,
                                                    optionChange: endTimeChanged,
                                                    rootAttributes: {style: 'width: 150px;', class: 'relRadios', id: 'endTime_'+randomId}
                                                },
                                    attr: {id: 'inputEndTime_'+randomId, 'aira-label': endTimeLabel}"/>
                            <!-- /ko -->
                        </div>
                    </div>

                    
                    <!-- Apply & Cancel button -->
                    <div class="buttons">
                        <button id="apply-button" data-bind="click: applyClick, ojComponent:{component: 'ojButton', label: applyButton, disabled: applyButtonDisable}, attr: {id: 'applyButton_'+randomId}">
                        </button>
                        <button class="cancel-button" id="cancel-button" data-bind="click: cancelClick, ojComponent:{component: 'ojButton', label: cancelButton}, attr: {id: 'cancelButton_'+randomId}"> 
                        </button>
                        <span style="font-size: 14px; padding-left: 10px;" data-bind="text: timeZone"></span>
                    </div>
                    
                    <!-- pop up for time filter-->
                    <div style="display: none; width: 560px; height: auto; margin: auto; border: 1px solid #f0f0f0; background: #FFFFFF;" data-bind="ojComponent: {component: 'ojPopup', chrome: 'none'}, attr: {id: 'timeFilter_'+randomId}, click: function(data, event) {event.stopPropagation();return true;}">
                        <!-- ko if: enableTimeFilter -->
                        <div style="padding-top: 15px;" data-bind="component: {name: 'time-filter', params: tfParams}"></div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <!-- /ko -->

        </div>