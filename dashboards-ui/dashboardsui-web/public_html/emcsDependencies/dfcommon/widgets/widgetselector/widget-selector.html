<!DOCTYPE html>
<html>
    <head>
        <!-- Style classes used by this widget selector. -->
        <link rel="stylesheet" data-bind="attr:{href: widgetSelectorCss}" type="text/css"/>
    </head>
    <body>
        <div style="display:none;" 
            data-bind="ojComponent:{component: 'ojDialog', beforeOpen: beforeOpenDialog,
                initialVisibility: 'hide', title: widgetSelectorTitle, resizeBehavior: 'none',
                rootAttributes: { style: 'width: 885px;'}}, attr: {id: dialogId}">   
            <div class="oj-dialog-body" data-bind="style: {height: widgetGroupFilterVisible() ? '525px' : '490px'}" >
                <!--<label for="categorySelect" hidden style='padding: 0px; margin: 0px; width:0px;height:0px;' data-bind="text: widgetGroupLabel"></label>-->
                <div style="padding-left: 4px" >
                    <div id="widget-selector-searchbox">
                        <div style="float:left;">
                            <input id="searchTxt" maxlength='100' autofocus="autofocus"
                               data-bind="ojComponent:{component:'ojInputText',value: searchText}, 
                                            attr: {placeholder: searchBoxPlaceHolder, 'aria-label': searchBoxPlaceHolder},
                                            typeAheadSearch: {filterFunc: searchFilterFunc,  response: searchResponse, source: []}"/>
                        </div>
                        <div style="float:right;">
                            <button class="oj-button-half-chrome widget-selector-search-button" data-bind="click: searchWidgets,
                                ojComponent: {component: 'ojButton', label: searchButtonLabel, display: 'icons', 
                                icons: {start:'widget-selector-search-icon'}}"> 
                            </button> 
                        </div>
                    </div>
                    <!-- ko if: widgetGroupFilterVisible -->
                    <div id="widget-selector-widgetgroups" >
                        <select id="categorySelect" class="oj-select-arrow"
                              data-bind="ojComponent: {component: 'ojSelect',
                                                          value: categoryValue,
                                                          optionChange: optionChangedHandler,
                                                          rootAttributes: {style:'max-width:373px;'}}">
                            <!-- ko foreach: widgetGroups -->
                            <option data-bind="value:value, text:label"></option>
                            <!-- /ko -->
                        </select>
                    </div>
                    <!-- /ko -->
                </div>
                <div id="widgets">
                    <!-- ko foreach: curPageWidgetList -->
                    <div class="widget-selector-container" data-bind="attr:{title: name}, 
                            css: {'widget-selector-container-selected': isSelected}, click: $parent.widgetBoxClicked">
                        <div class="widget-box-title" data-bind="attr: {title: WIDGET_NAME}">
                            <span data-bind="text: WIDGET_NAME"></span>
                        </div>
                        <div class="widget-box-description" data-bind="css: {'widget-box-inactive': isScreenShotPageDisplayed}">
                            <div style="padding-top: 10px; padding-bottom: 10px;">
                                <span data-bind="text: WIDGET_OWNER+' - '" style="font-weight: bold;"></span>
                                <span data-bind="text: modificationDateString" style="font-weight: normal;"></span>
                            </div>
                            <div data-bind="text: WIDGET_DESCRIPTION"></div>
                        </div>
                        <div class="widget-box-screenshot" data-bind="css: {'widget-box-inactive': !isScreenShotPageDisplayed()}">
<!--                            <input type="image" data-bind="attr:{src: WIDGET_ICON, alt: WIDGET_GROUP_NAME, title: WIDGET_GROUP_NAME}" width="32"
                                   class="widget-selector-screenshot"/>-->
                            <img data-bind="attr: {alt: WIDGET_NAME, src: WIDGET_HISTOGRAM}" class="widget-selector-screenshot"/>
                        </div>
                        <div class="widget-box-navigation">
                            <span class="widget-box-navi-control" data-bind="css: {'widget-box-navi-control-inactive': !isScreenShotPageDisplayed()}, 
                                click: $parent.widgetNaviScreenShotClicked, attr: {title: $parent.widgetScreenShotPageTitle}"></span>
                            <span class="widget-box-navi-control" data-bind="css: {'widget-box-navi-control-inactive': isScreenShotPageDisplayed}, 
                                click: $parent.widgetNaviDescClicked, attr: {title: $parent.widgetDescPageTitle}"></span>
                        </div>
                    </div>
                    <!-- /ko -->
                </div>
            </div>     
            <div class="oj-dialog-footer" style="padding-right: 24px" > 
                <button class="oj-button-half-chrome widget-selector-icon-button" data-bind="click: naviPrevious, 
                    ojComponent: {component: 'ojButton', disabled: !naviPreBtnEnabled()},style:{opacity: naviPreBtnEnabled()?1:0.4}" >  
                    <i class="fa fa-icon-font fa-chevron-left" style=" text-align: center; vertical-align: middle; font-size: 3em;"></i>
                </button> 
                <button class="oj-button-half-chrome widget-selector-icon-button" data-bind="click: naviNext, 
                    ojComponent: {component: 'ojButton', disabled: !naviNextBtnEnabled()},style:{opacity: naviNextBtnEnabled()?1:0.4}"> 
                    <i class="fa fa-icon-font fa-chevron-right" style=" text-align: center; vertical-align: middle; font-size: 3em;"></i>
                </button>      
                <button id="widget-selector-okbtn" data-bind="attr: {class: 'widget-selector-button'}, click: widgetSelectionConfirmed, 
                    ojComponent: {component: 'ojButton', label: affirmativeButtonLabel, disabled: confirmBtnDisabled}" >  
                </button>
            </div>  
        </div>
    </body>
</html>
